window.addEventListener("load",()=>{const a=document.querySelector(".loader-wrapper");setTimeout(()=>{a.classList.add("loader-hidden"),setTimeout(()=>a.style.display="none",500)},2e3)});const burger=document.querySelector(".burger"),nav=document.querySelector("nav"),navOverlay=document.querySelector(".nav-overlay"),body=document.body;burger?.addEventListener("click",()=>{burger.classList.toggle("active"),nav.classList.toggle("active"),navOverlay.classList.toggle("active"),body.style.overflow=nav.classList.contains("active")?"hidden":""}),navOverlay?.addEventListener("click",()=>{burger.classList.remove("active"),nav.classList.remove("active"),navOverlay.classList.remove("active"),body.style.overflow=""}),document.querySelectorAll("nav a").forEach(a=>{a.addEventListener("click",()=>{burger.classList.remove("active"),nav.classList.remove("active"),navOverlay.classList.remove("active"),body.style.overflow=""})});const sections=document.querySelectorAll("main section"),navLinks=document.querySelectorAll("nav ul li a"),updateActiveNavLink=()=>{let a="";sections.forEach(b=>{const c=b.offsetTop-80;window.scrollY>=c&&(a=b.getAttribute("id"))}),navLinks.forEach(b=>{b.classList.remove("active"),b.getAttribute("href").substring(1)===a&&b.classList.add("active")})};window.addEventListener("scroll",updateActiveNavLink);const form=document.getElementById("contact-form"),responseMsg=document.getElementById("form-response");form?.addEventListener("submit",async a=>{if(a.preventDefault(),responseMsg.textContent="",!form.checkValidity())return responseMsg.style.color="#ff5555",void(responseMsg.textContent="Please fill out all fields correctly.");responseMsg.style.color="#00e0ff",responseMsg.textContent="Sending message...";try{const a=await fetch(form.action,{method:"POST",body:new FormData(form),headers:{Accept:"application/json"}});if(a.ok)responseMsg.style.color="#55ff55",responseMsg.textContent="Thank you for contacting me, I will get back to you soon!",form.reset();else{const b=await a.json();responseMsg.style.color="#ff5555",responseMsg.textContent=b.errors?.length?b.errors.map(a=>a.message).join(", "):"Oops! Something went wrong. Please try again later."}}catch(a){responseMsg.style.color="#ff5555",responseMsg.textContent="Network error. Please try again later."}});const filterSkills=a=>{const b=document.querySelectorAll(".skill-card");b.forEach(b=>{b.style.display="all"===a||b.dataset.category===a?"block":"none"})},testimonials=document.querySelectorAll(".testimonial");let currentTestimonial=0;document.getElementById("prev-testimonial")?.addEventListener("click",()=>{testimonials[currentTestimonial].classList.remove("active"),testimonials[currentTestimonial].style.opacity=0,testimonials[currentTestimonial].style.pointerEvents="none",currentTestimonial=(currentTestimonial-1+testimonials.length)%testimonials.length,testimonials[currentTestimonial].classList.add("active"),testimonials[currentTestimonial].style.opacity=1,testimonials[currentTestimonial].style.pointerEvents="auto"}),document.getElementById("next-testimonial")?.addEventListener("click",()=>{testimonials[currentTestimonial].classList.remove("active"),testimonials[currentTestimonial].style.opacity=0,testimonials[currentTestimonial].style.pointerEvents="none",currentTestimonial=(currentTestimonial+1)%testimonials.length,testimonials[currentTestimonial].classList.add("active"),testimonials[currentTestimonial].style.opacity=1,testimonials[currentTestimonial].style.pointerEvents="auto"});const introTexts=["Hello! I'm Aditya Verma, a passionate web developer.","I craft modern, responsive, and user-friendly web apps.","Always eager to learn new technologies and improve my skills."];let i=0,j=0,current="",isDeleting=!1;function type(){if(i<introTexts.length){const a=document.getElementById("typed-intro");if(!a)return;!isDeleting&&j<=introTexts[i].length?(current=introTexts[i].substring(0,j++),a.textContent=current,setTimeout(type,40)):isDeleting&&0<j?(current=introTexts[i].substring(0,--j),a.textContent=current,setTimeout(type,20)):isDeleting?(isDeleting=!1,setTimeout(type,700)):(a.textContent=introTexts[i],i++,j=0,setTimeout(type,900))}else{const a=document.getElementById("typed-intro");a&&(a.innerHTML=introTexts.map(a=>`<span>${a}</span>`).join("<br>"))}}type(),document.addEventListener("DOMContentLoaded",()=>{const a=new IntersectionObserver(a=>{a.forEach(a=>{a.isIntersecting&&a.target.classList.add("visible")})},{threshold:.1});document.querySelectorAll(".fade-in").forEach(b=>{a.observe(b)})}),document.addEventListener("DOMContentLoaded",()=>{function a(){d.width=window.innerWidth,d.height=window.innerHeight,f.length=0;for(let a=0;a<g;a++)f.push({x:Math.random()*d.width,y:Math.random()*d.height,size:2*Math.random()+1,speedX:2*Math.random()-1,speedY:2*Math.random()-1,opacity:.5*Math.random()+.2})}function b(){e.clearRect(0,0,d.width,d.height),f.forEach(a=>{a.x+=a.speedX,a.y+=a.speedY,(0>a.x||a.x>d.width)&&(a.speedX*=-1),(0>a.y||a.y>d.height)&&(a.speedY*=-1),e.beginPath(),e.arc(a.x,a.y,a.size,0,2*Math.PI),e.fillStyle=`rgba(0, 188, 212, ${a.opacity})`,e.fill(),f.forEach(b=>{const c=a.x-b.x,d=a.y-b.y,f=Math.sqrt(c*c+d*d);120>f&&(e.beginPath(),e.strokeStyle=`rgba(0, 188, 212, ${.1*(1-f/120)})`,e.lineWidth=1,e.moveTo(a.x,a.y),e.lineTo(b.x,b.y),e.stroke())})}),requestAnimationFrame(b)}const c=document.querySelector(".particles");if(!c)return;const d=document.createElement("canvas"),e=d.getContext("2d");c.appendChild(d);const f=[],g=100;window.addEventListener("resize",a),a(),b()}),document.addEventListener("mousemove",a=>{const b=a.clientX/window.innerWidth,c=a.clientY/window.innerHeight;requestAnimationFrame(()=>{document.querySelectorAll(".gradient-overlay").forEach(a=>{a.style.transform=`translate(${20*(b-.5)}px, ${20*(c-.5)}px)`})})}),document.addEventListener("DOMContentLoaded",()=>{const a=document.querySelector("header h1");a&&(a.style.cursor="pointer",a.addEventListener("dblclick",createEmojiShower));let b="";document.addEventListener("keypress",a=>{b+=a.key.toLowerCase(),4<b.length&&(b=b.slice(-4)),"yc45"===b&&(triggerRainbowText(),b="")});const c=document.querySelectorAll(".skill-card");c.forEach(a=>{let b=0;a.style.cursor="pointer",a.addEventListener("click",c=>{c.preventDefault(),b++,3===b&&(a.style.transform="scale(1.2)",createEmojiShower(),setTimeout(()=>{a.style.transform="",b=0},1e3))})});const d=document.querySelectorAll(".project-title");d.forEach(a=>{a.style.cursor="pointer",a.addEventListener("click",function(a){a.preventDefault(),showHiddenMessage(this)})})});function createEmojiShower(){const a=["\uD83D\uDE80","\uD83D\uDCBB","\u2B50","\uD83D\uDDA5\uFE0F","\uD83C\uDFAF","\u2764\uFE0F","\uD83D\uDC96","\u2728","\uD83C\uDF81","\uD83E\uDD29","\uD83D\uDCBD","\uD83E\uDDD1\u200D\uD83D\uDCBB"];for(let b=0;20>b;b++){const b=document.createElement("div");b.className="easter-egg-emoji";const c=Math.random()*window.innerWidth,d=2+2*Math.random(),e=.4+.6*Math.random();b.style.cssText=`
      left: ${c}px;
      top: ${window.innerHeight}px;
      animation: floatUp ${d}s ease-in forwards;
      opacity: ${e};
    `,b.textContent=a[Math.floor(Math.random()*a.length)],document.body.appendChild(b),setTimeout(()=>b.remove(),1e3*d)}}function showHiddenMessage(){const a=hiddenMessages[Math.floor(Math.random()*hiddenMessages.length)],b=document.createElement("div");b.className="secret-popup",b.textContent=a,b.style.cssText=`
    position: fixed;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    background: rgba(0, 188, 212, 0.9);
    color: white;
    padding: 20px;
    border-radius: 10px;
    font-size: 1.2rem;
    font-weight: bold;
    z-index: 9999;
    box-shadow: 0 4px 12px rgba(0,0,0,0.2);
    opacity: 0;
    transition: opacity 0.3s ease;
  `,document.body.appendChild(b),requestAnimationFrame(()=>{b.style.opacity="1"}),setTimeout(()=>{b.style.opacity="0",setTimeout(()=>b.remove(),300)},2e3)}function triggerRainbowText(){const a=document.querySelectorAll(".section-title");a.forEach(a=>{a.classList.add("secret-text"),a.style.transition="color 0.3s ease",setTimeout(()=>{a.classList.remove("secret-text")},3e3)})}let coords={x:0,y:0};const circles=document.querySelectorAll(".cursor-trail");document.addEventListener("mousemove",a=>{coords.x=a.clientX,coords.y=a.clientY});function animateTrail(){let a=coords.x,b=coords.y;circles.forEach((c,d)=>{c.style.left=a-12+"px",c.style.top=b-12+"px",c.style.scale=(circles.length-d)/circles.length,c.x=a,c.y=b;const e=circles[d+1]||circles[0];a+=.3*(e.x-a),b+=.3*(e.y-b)}),requestAnimationFrame(animateTrail)}function initTrail(){const a=document.createElement("div");a.className="cursor-trail-container",document.body.appendChild(a);for(let b=0;20>b;b++){const b=document.createElement("div");b.className="cursor-trail",b.x=0,b.y=0,a.appendChild(b)}}initTrail(),animateTrail();let clickPattern=[];const secretPattern=[1,2,1,2];document.addEventListener("mousedown",a=>{clickPattern.push(a.button+1),clickPattern.length>secretPattern.length&&clickPattern.shift(),JSON.stringify(clickPattern)===JSON.stringify(secretPattern)&&(toggleMatrixEffect(),clickPattern=[])});function toggleMatrixEffect(){const a=document.createElement("canvas");a.className="matrix-canvas",document.body.appendChild(a);const b=a.getContext("2d");a.width=window.innerWidth,a.height=window.innerHeight;const c="ABCDEFGHIJKLMNOPQRSTUVWXYZ123456789@#$%^&*()*&^%".split(""),d=14,e=a.width/d,f=Array(Math.floor(e)).fill(1),g=setInterval(function(){b.fillStyle="rgba(0, 0, 0, 0.05)",b.fillRect(0,0,a.width,a.height),b.fillStyle="#0F0",b.font="14px monospace",f.forEach((e,g)=>{const h=c[Math.floor(Math.random()*c.length)];b.fillText(h,g*d,e*d),e*d>a.height&&.975<Math.random()&&(f[g]=0),f[g]++})},33);setTimeout(()=>{clearInterval(g),a.remove()},5e3)}document.addEventListener("DOMContentLoaded",()=>{const a=document.createTreeWalker(document.body,NodeFilter.SHOW_TEXT,null,!1);for(let b;b=a.nextNode();){const a=b.textContent;if(a.toLowerCase().includes("space")){const c=document.createElement("span");c.innerHTML=a.replace(/\b(space)\b/gi,"<span data-space-trigger>$1</span>"),b.parentNode.replaceChild(c,b)}}document.addEventListener("click",a=>{const b=a.target.closest("[data-space-trigger]");b&&createFlyingRocket(a.clientX,a.clientY)})});function createFlyingRocket(a,b){const c=document.createElement("div");c.className="flying-rocket",document.body.appendChild(c);const d=a<window.innerWidth/2?1:-1;c.style.left=`${a-20}px`,c.style.top=`${b-20}px`,c.style.setProperty("--launch-direction",d),launchSequence(c,a,b,d)}function launchSequence(a,b,c){a.classList.add("pre-launch"),createSmokeParticles(b,c,"pre-launch"),setTimeout(()=>{a.classList.remove("pre-launch"),a.classList.add("ignition"),createSmokeParticles(b,c,"ignition"),setTimeout(()=>{a.classList.remove("ignition"),a.classList.add("liftoff"),createGroundParticles(b,c);const d=setInterval(()=>{const b=a.getBoundingClientRect();createSmokeParticles(b.left+b.width/2,b.top+b.height,"liftoff")},50);setTimeout(()=>{clearInterval(d),a.remove()},3e3)},500)},1e3)}function createSmokeParticles(a,b,c){const d="liftoff"===c?10:15,e="liftoff"===c?12:8;for(let f=0;f<d;f++){const d=document.createElement("div");d.className="smoke-particle";const f=Math.random()*e+e/2;d.style.width=d.style.height=`${f}px`,d.style.left=`${a}px`,d.style.top=`${b}px`;const g=2*(Math.random()*Math.PI),h=100*Math.random()+50,i=Math.cos(g)*h,j=Math.sin(g)*h+("liftoff"===c?50:0),k=360*Math.random();d.style.setProperty("--dx",`${i}px`),d.style.setProperty("--dy",`${j}px`),d.style.setProperty("--rotate",`${k}deg`),document.body.appendChild(d),d.animate([{transform:"translate(0, 0) scale(1) rotate(0deg)",opacity:.8,filter:"blur(0px)"},{transform:`translate(${i}px, ${j}px) scale(3) rotate(${k}deg)`,opacity:0,filter:"blur(4px)"}],{duration:1e3*Math.random()+1e3,easing:"cubic-bezier(0.4, 0, 0.2, 1)",fill:"forwards"}),setTimeout(()=>d.remove(),2e3)}}function createGroundParticles(a,b){for(let c=0;c<40;c++){const c=document.createElement("div");c.className="ground-particle";const d=4*Math.random()+2;c.style.width=`${d}px`,c.style.height=`${d}px`,c.style.left=`${a}px`,c.style.top=`${b}px`;const e=(180*Math.random()-90)*(Math.PI/180),f=200*Math.random()+100,g=Math.cos(e)*f,h=Math.sin(e)*f,i=360*Math.random();c.style.setProperty("--dx",`${g}px`),c.style.setProperty("--dy",`${h}px`),c.style.setProperty("--rotate",`${i}deg`),document.body.appendChild(c),c.animate([{transform:"translate(0, 0) scale(1) rotate(0deg)",opacity:1},{transform:`translate(${g}px, ${h}px) scale(0) rotate(${i}deg)`,opacity:0}],{duration:1e3*Math.random()+500,easing:"cubic-bezier(0.4, 0, 0.2, 1)",fill:"forwards"}),setTimeout(()=>c.remove(),1500)}}